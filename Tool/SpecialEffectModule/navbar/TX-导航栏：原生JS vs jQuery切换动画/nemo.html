<!DOCTYPE HTML>
<html>
<head>
    <title>原生切换</title>
    <meta content="text/html;charset=utf-8" http-equiv="content-type">
    <style type="text/css">
        body, ul, li{padding: 0px;margin: 0px;font-family: 'microsoft yehei',"黑体";}
        #navigator{width: 720px;height: 45px;line-height: 45px;margin: 20px auto;}
        #navigator li{float: left;list-style: none;width: 90px;height: 45px;background: #d3ae68;
                      font-size: 14px;font-weight: bold;color: #FFF;text-align: center;overflow: hidden;}
        #navigator li span.on{display: block;}
        #navigator li span.hidden{display: block;background: #f6f6f6;color: #d3ae68;}
    </style>
    
    <script type="text/javascript">
        var plugin ={
                t: [],
                setInterval:function(callback, interval){
                                var args = Array.prototype.slice.call(arguments, 2);
                                function fn(){
                                    callback.apply(null, args);
                                }
                                return window.setInterval(fn, interval);
                }
        };
        function init(){
            var navigator = document.getElementById("navigator");
            var items = navigator.getElementsByTagName("li");
            for (var i = 0; i < items.length; i++){
                items[i].index = i;
                items[i].onmouseover = function(){
                    var first = this.firstChild;
                    if (plugin.t[this.index])
                    {
                        clearInterval(plugin.t[this.index]);
                    }
                   plugin.t[this.index] = plugin.setInterval(move, 5, first, -45);
                }
                items[i].onmouseout = function(){
                    var first = this.firstChild;
                    if (plugin.t[this.index]){
                        clearInterval(plugin.t[this.index]);
                    }
                    plugin.t[this.index] = plugin.setInterval(move, 5, first, 0);
                }
            }

        }

        function move(obj,distance){
            var current = parseFloat(obj.style.marginTop);
            if(distance<0){
                var speed = (-distance + current) / 5 ;
                if (current <= distance)
                {
                    clearInterval(plugin.t[obj.parentNode.index]);
                    return;
                }
                current = current - speed;
                obj.style.marginTop = current + "px";
            }else{
                if (current >= distance)
                {
                    clearInterval(plugin.t[obj.parentNode.index]);
                    return;
                }
                current++;
                obj.style.marginTop = current + "px";
            }
        }
        // function move(obj, distance)
        // {
        //     var current = parseFloat(obj.style.marginTop);
        //     var speed = (-distance + current) / 5 ;
        //     if (current <= distance)
        //     {
        //         clearInterval(plugin.t[obj.parentNode.index]);
        //         return;
        //     }
        //     current = current - speed;
        //     obj.style.marginTop = current + "px";
        // }
        // function moveback(obj, distance)
        // {
        //     var current = parseInt(obj.style.marginTop);
        //     if (current >= distance)
        //     {
        //         clearInterval(plugin.t[obj.parentNode.index]);
        //         return;
        //     }
        //     current++;
        //     obj.style.marginTop = current + "px";
        // }
        window.onload = init;
    </script>
</head>
<body>
    <ul id="navigator">
        <li class='li'><span class='on' style='margin-top:0'>首 页</span><span class="hidden"> 首页</span>  </li>
        <li class='li'><span class="on" style='margin-top:0'>云产品</span><span class="hidden">云产品</span></li>
        <li class='li'><span class="on" style='margin-top:0'>自主建站</span><span class="hidden">自主建站</span></li>
        <li class='li'><span class="on" style='margin-top:0'>云服务</span><span class="hidden">云服务</span></li>
        <li class='li'><span class="on" style='margin-top:0'>数据库</span><span class="hidden">数据库</span></li>
        <li class='li'><span class="on" style='margin-top:0'>CRF</span><span class="hidden">CRF</span></li>
        <li class='li'><span class="on" style='margin-top:0'>AJAX</span><span class="hidden">AJAX</span></li>
        <li class='li'><span class="on" style='margin-top:0'>联系我们</span><span class="hidden">联系我们</span></li>
    </ul>
    <script>
        // var nav = document.getElementById("navigator");
    
        // var items = document.getElementsByClassName(".li");
        // nav.addEventListener('mouseover',function(e){
        //     if(e.target && e.target.nodeName == "LI"){
        //         console.log(e.target);
        //         // var first = e.target.firstChild;
        //         e.target.style.marginTop = '-45';
        //     }
        // })
        // for (var i = 0; i < items.length; i++){
        //     items[i].onmouseenter = function(){
        //         var first = this.firstChild;
        //         alert('ds')
        //         first.style.marginTop = '-45px';
        //     }
        //     items[i].onmouseleave = function(){
        //         var first = this.firstChild;
        //         first.style.marginTop = '0';
        //     }
        // }
    </script>
    <script type="text/javascript" src='jquery-1.7.1.min.js'></script>
    <!-- <script>
        $(function(){
            $('#navigator li').hover(function(){
                $(this).find('.on').animate({'marginTop':'-45px'},300).siblings().stop(true,true)
            },function(){
                $(this).find('.on').animate({'marginTop':'0'},300)
            })
        })
    </script> -->
</body>
</html>

