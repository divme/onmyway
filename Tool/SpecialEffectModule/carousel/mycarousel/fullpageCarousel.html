<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>fullpage carousel</title>
		<link rel="stylesheet" href="css/public.css" />
		<style>
			*  {margin:0;padding:0;}
		    html,body{height:100%;}
		   .wrapper{position:relative;height:100%;overflow:hidden;background:#f9f9f9;}

			.container{position:absolute;top:0;left:0;height:100%;overflow:hidden;}
			.inner-container{float:left;height:100%;background:yellowgreen;color:steelblue;font-size:40px;text-align:center;}
			.inner-container:first-of-type {background:mediumaquamarine url(img/1.png)  no-repeat center center;}
			.inner-container:nth-of-type(2){background:lightyellow  url(img/2.png)  no-repeat center center;}
			.inner-container:nth-of-type(3){background:lightgoldenrodyellow url(img/3.png)  no-repeat center center;}
			.inner-container:nth-of-type(4){background:yellowgreen url(img/4.png)  no-repeat center center;}
			.btns{position:absolute;left:50%;bottom:50px;width:120px;height:10px;margin-left:-60px;}
			.btn{float:left;width: 20px;height: 20px;border-radius:50%;background:red;margin-left: 5px;}
			.on{background:yellow;}
			.prenext{width: 40px;height: 80px;position: absolute;top: 100px;background: skyblue;}
			.left{left: 0;}
			.right{right: 0;}

		</style>
	</head>
	<body>
	<div class="wrapper">
		<div class="container">
			<div class="inner-container">第一页</div>
			<div class="inner-container">第二页</div>
			<div class="inner-container">第三页</div>
			<div class="inner-container">第四页</div>
		</div>
		<!--<div class="horizontal-icon btns" id="icon">-->
			<!--<span class="btn"></span>-->
			<!--<span class="btn"></span>-->
			<!--<span class="btn"></span>-->
			<!--<span class="btn"></span>-->
		<!--</div>-->
		<!--<div class="prenext left"></div>-->
		<!--<div class="prenext right"></div>-->
	</div>
	<script src="js/jquery-2.1.1.min.js"></script>
	<script>
		$(function(){
			var width = window.innerWidth,
				count = $(".inner-container").length,
				index = 0,
				Timer;

			// 添加控制器和左右按钮
			var btn = "<div class='btns' id='icon'>";
			for(var i = 0 ; i < count ; i++){
				btn += "<span class='btn'></span>"
			}
			btn += "</div>";
//			btn += "</div><div class='prenext pre'></div><div class='prenext next'></div>";
			$('.wrapper').append(btn);

			$('.btn').eq(0).addClass('on');
			// 设置宽度
			$('.inner-container').css('width',width);
			$('.container').css('width',count*width);

			// 基础函数
			function carousel(index){
				var newleft = - index * width ;
				$('.container').stop(stop,false).animate({'left':newleft},300);
				$('.btn').stop(stop,false).eq(index).addClass('on').siblings().removeClass('on');
			}
//			function show(obj){obj.stop(true,false).fadeIn()}
//			function hide(obj){obj.stop(true,false).fadeOut()}

			// 自动carousel
			$('.container').hover(function(){
				clearInterval(Timer);
//				show($('.prenext'));
			},function(){
//				hide($('.prenext'));
				Timer = setInterval(function(){
					carousel(index);
					index++;
					if(index == count){ index = 0 }
				},3000)
			}).trigger('mouseleave')

			// 控制器和前后键
			$('#icon').on('mouseover','.btn',function(){
				index = $('.btn').index(this);
				carousel(index);
			});
//			$('.pre').click(function(){
//				index--;
//				if(index == -1){ index = count -1 }
//				carousel(index);
//			})
//			$('.next').click(function(){
//				index++;
//				if(index==count){ index=0 }
//				carousel(index);
//			})
		})
	</script>
	</body>
</html>
