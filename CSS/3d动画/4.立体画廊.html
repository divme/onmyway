<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>3d画廊</title>
    <style>
        *{margin:0;padding:0}
        .container{
            margin:100px auto
        }
        .stage{
            perspective:600px;
        }
        .cube{
            position: relative;
            width:800px;
            height:400px;
            margin:10px auto;
            transform-style: preserve-3d;
            /*animation: rotate 30s linear infinite;*/
        }
        @keyframes rotate {
            to{transform:rotateY(1turn)}
        }

        .picture{
            position: absolute;
            width: 100%;
            height:100%;
            box-shadow: inset 0 0 20px #000, 0 0 10px #f6f6f6;
        }
        .picture:nth-of-type(1){
            background: url(../img/T1.png) no-repeat top left/50% 100%, url(../img/T2.png) no-repeat top right/50% 100%;

            transform: rotateY(0deg) translateZ(-692.4px);
            font-size:20px;
            color:red;
        }
        .picture:nth-of-type(2){
            /*background: url(../img/T2.png) no-repeat top left/cover;*/
            background: url(../img/T3.png) no-repeat top left/50% 100%, url(../img/T4.png) no-repeat top right/50% 100%;

            transform: rotateY(60deg) translateZ(-692.4px);
        }
        .picture:nth-of-type(3){
            /*background: url(../img/T3.png) no-repeat top left/cover;*/
            background: url(../img/T5.png) no-repeat top left/50% 100%, url(../img/T6.png) no-repeat top right/50% 100%;

            transform: rotateY(120deg) translateZ(-692.4px);
        }
        .picture:nth-of-type(4){
            /*background: url(../img/T4.png) no-repeat top left/cover;*/
            background: url(../img/T1.png) no-repeat top left/50% 100%, url(../img/T2.png) no-repeat top right/50% 100%;

            transform: rotateY(180deg) translateZ(-692.4px);
        }
        .picture:nth-of-type(5){
            /*background: url(../img/T6.png) no-repeat top left/cover;*/
            background: url(../img/T3.png) no-repeat top left/50% 100%, url(../img/T4.png) no-repeat top right/50% 100%;

            transform: rotateY(240deg) translateZ(-692.4px);
        }
        .picture:nth-of-type(6){
            /*background: url(../img/T5.png) no-repeat top left/cover;*/
            background: url(../img/T5.png) no-repeat top left/50% 100%, url(../img/T6.png) no-repeat top right/50% 100%;

            transform: rotateY(300deg) translateZ(-692.4px);
        }

        .shadow{
            width:90%;
            height:200px;
            margin:30px auto;
            border-radius: 50px/20px;
            transform: rotateX(80deg);
            background: #f6f6f6;
        }
    </style>
</head>
<body>

<div class="container">
    <div class="stage">
        <div class="cube">
            <div class="picture"></div>
            <div class="picture"></div>
            <div class="picture"></div>
            <div class="picture"></div>
            <div class="picture"></div>
            <div class="picture"></div>
        </div>
        <div class="shadow"></div>
    </div>
</div>

<script>
    document.addEventListener('mousedown', mousedown);
    document.addEventListener('mousemove', mousemove);
    document.addEventListener('mouseup', mouseup);

    var cube = document.querySelector(".cube");

    var isMousemove = false;
    var startX, startY;
    var degX = 0,
        degY = 0;

    function mousedown(e){
        e.preventDefault();
        startX = e.pageX;
        startY = e.pageY;
        isMousemove = true;
    }

    function mouseup(e){
        isMousemove = false;
    }

    function mousemove(e){
        e.preventDefault();
        var moveX, moveY;
            moveX = e.pageX;
            moveY = e.pageY;
        if(isMousemove){
            if(moveX <= startX){
                degY += Math.floor(Math.abs(moveX - startX)/6);
                degX += (moveY - startY > 0)? Math.floor(Math.abs(moveY - startY)/2):(-1)*Math.floor(Math.abs(moveY - startY)/2);
                if(degX >= 30) degX = 30;
                if(degX <= -30) degX = -30;

                cube.style.transform = 'rotateY('+ degY +'deg) rotateX('+ degX +'deg)';
            }else if(moveX > startX){
                degY -= Math.floor(Math.abs(moveX - startX)/6);
                degX += (moveY - startY > 0)? Math.floor(Math.abs(moveY - startY)/2):(-1)*Math.floor(Math.abs(moveY - startY)/2);
                if(degX >= 30) degX = 30;
                if(degX <= -30) degX = -30;

                cube.style.transform = 'rotateY('+ degY +'deg) rotateX('+ degX +'deg)';
            }

            startX = moveX;
            startY = moveY;
        }
    }
</script>


</body>
</html>































