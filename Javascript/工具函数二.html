<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>小函数</title>
</head>
<body>
<div id="tang">w</div>
<script>
    var arr=[1,1,2,3,4,3,2,5];
</script>
<script>
//    1.javascript小数加法精度问题
    function addTwoFloat(num1,num2){
        var result;
        var arguments = [].slice.apply(arguments);
        var arr=[];
        for(var i=0,leng=arguments.length;i < leng;i++){
            var type = typeof arguments[i],
                instance = arguments[i] instanceof Number;
            if(type !='number' && instance == false) return NaN;
            var str = arguments[i].toString();
            var snum = str.indexOf('.');
            var newstr = str.slice(snum+1);
            arr[i] = newstr.length;
        }
        arr.sort(function(a,b){return b-a});
        result =  (num1*Math.pow(10,arr[0])+num2*Math.pow(10,arr[0]))/Math.pow(10,arr[0]);
        return result;
    }
    var num= addTwoFloat(34.45, 22.39);
    console.group('addTwoFloat浮点数加法');
      console.log(num);
    console.groupEnd();

//    2.正确获取浏览器可用区域的宽高
      function getWindow(){
          var w = window.innerWidth ||
              document.documentElement.clientWidth ||
              document.body.clientWidth;

          var h = window.innerHeight ||
              document.documentElement.clientHeight ||
              document.body.clientHeight;
          console.log("宽度是" + w + ";" + '高度是' + h);
          return {
                    width: w,
                    height: h
                 }
      }

//    3.事件监听器P174
      var eventHandler={
            addHandler:function(element,type,func){
                if(window.addEventListener){
                    element.addEventListener(type,func,false);
                }else if(element.detachEvent){
                    element.attachEvent('on'+type,func);
                }else{
                    element['on'+type]=func;
                }
            },
            removerHandler:function(element,type,func){
                if(window.removeEventListener){
                    element.removeEventListener(type,func,false);
                }else if(element.detachEvent){
                    element.detachEvent('on'+type,func);
                }else{
                    element['on'+type]=null;
                }
            }
        };
        function showmsg(){alert("hello");}
        var btn = document.getElementById("tang");
        eventHandler.addHandler(btn,"click",showmsg);


</script>
</body>
</html>