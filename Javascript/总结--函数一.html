<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Tool Func</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="format-detection" content="telephone=no" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="white" />
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <style>
       pre{
          width:500px;
          margin:10px auto;
          background:#f6f6f6;
          font-family:"Helvetica Neue",'微软雅黑', Verdana, Arial, Helvetica, sans-serif;
          font-size:14px;
          padding:10px 20px;
       }
    </style>
</head>
<body>
   <h5>给对象添加方法P13</h5>
   <script>
       Function.prototype.method = function(name,func){
           this.prototype[name] = func;
           return this;
       }
   </script>

   <h5>关于闭包P54</h5>
   <script>
       function foo(x){
           var tmp = 3;
           return function (y){

               var memb;
               memb = memb ? memb + 1 : 1;
               console.group('闭包');
                  console.log('1'+x + y + tmp);
                  console.log(memb);
               console.groupEnd();
           }
       }
       var age = new Number(2);
       var bar = foo(age); // bar 现在是一个引用了age的闭包
       bar(10);
   </script>

   <h5>简单偏函数典型示例P73</h5>
   <script>
       isString = function(obj){
                     return Object.prototype.toString.call(obj) === "[object String]";
                  }
       isNumber = function(obj){
                     return Object.prototype.toString.call(obj) === "[object Number]";
                  }
       isArray = function(obj) {
                     return Object.prototype.toString.call(obj) === "[object Array]";
                 }
   </script>
   <!--将上面三个函数变为下面的-->
   <script>
       isType = function(type) {
           return function(obj) {
                     return Object.prototype.toString.call(obj) === "[object " + type + "]";
                  }
       }
       isString = isType('String');
       isNumber = isType('Number');
       isArray = isType('Array');
   </script>

   <h5>curring--柯里化P97</h5>
   <script>
       var curryingModel = function(fn) {
           var args = [];
           return function() {
               if (arguments.length === 0) {
                   return fn.applay(this, args);
               } else {
                   args = args.concat(arguments);
                   return arguments.callee;
               }
           }
       }
   </script>
   <script>
       var currying = function(fn) {
           var args = [];
           return function() {
               if (arguments.length === 0) {
                   return fn.apply(this, args);
               } else {
                   Array.prototype.push.apply(args, arguments);
                   return arguments.callee;
               }
           }
       }
       cost = function(){
                  var sum = 0;
                  for (var i = 0, len = arguments.length; i < len; i++) {
                      sum += arguments[i];
                  }
                  return sum;
              }
       var ca = currying(cost);
       console.log('cost'+cost);
       ca(100);
       ca(200);
       console.group('curring柯里化');
          console.log(ca());
       console.groupEnd();
   </script>

   <h5>事件节流：对于频繁触发而又没必要次次回应的事件，给个限制，减少触发次数P139</h5>
   <script>
       function throttle(fn, interval) {
           var doing = false;

           return function() {
               if (doing) {
                   return;
               }
               doing = true;
               fn.apply(this, arguments);
               setTimeout(function() {
                   doing = false;
               }, interval);
           }
       }

       window.onresize = throttle(function(){
           console.log('execute');
       }, 1000);
   </script>

</body>
</html>